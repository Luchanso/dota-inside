(this["webpackJsonpdota-inside"]=this["webpackJsonpdota-inside"]||[]).push([[0],{73:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(0),i=n.n(a),o=n(8),c=n.n(o),s=n(30),l=n(31),j=n(36),d=n(35),u=n(42),h=n(43),b=n(109),p=n(117),O=n(120),m=n(118),x=n(119),f=n(121),v=n(4),g=n(114),y=n(115),k=n(113),w=n(116),_={API:"https://api.opendota.com"},S=_.API,L=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"renderLabel",value:function(){var e=this.props.classes;return function(t){var n=t.children,a=t.isLast;return Object(r.jsx)(b.a,{component:"p",className:!a&&e.label||e.lastLabel,children:n})}}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.hero,a=this.renderLabel(),i="".concat(S).concat(n.img),o=n.localized_name,c=n.pro_pick,s=n.pro_win,l=n.pro_ban,j=(s/c*100).toFixed(2),d=(100*n.wilsonScore).toFixed(2);return Object(r.jsxs)(k.a,{className:t.card,children:[Object(r.jsx)(g.a,{className:t.media,image:i,title:o}),Object(r.jsxs)(y.a,{children:[Object(r.jsx)(b.a,{type:"headline",component:"h2",children:o}),Object(r.jsxs)(a,{children:["Number of Pro Picks: ",Object(r.jsx)("b",{children:c})]}),Object(r.jsx)(w.a,{}),Object(r.jsxs)(a,{children:["Pro Win rate ",Object(r.jsxs)("b",{children:[j,"%"]})]}),Object(r.jsx)(w.a,{}),Object(r.jsxs)(a,{children:["Pro Bans ",Object(r.jsx)("b",{children:l})]}),Object(r.jsx)(w.a,{}),Object(r.jsxs)(a,{isLast:!0,children:["Wilson score: ",Object(r.jsxs)("b",{children:[d," / 100"]})]})]})]})}}]),n}(a.Component),P=Object(v.a)({card:{maxWidth:256,margin:"auto"},media:{height:144},label:{margin:"15px 0"},lastLabel:{marginTop:15}})(L),W=function(){return fetch("".concat(S,"/api/heroStats")).then((function(e){return e.json()}))},B=n(40),I=function(e,t){if(!e)return-t;var n=e+t,r=1.64485,a=e/n;return(a+r*r/(2*n)-r*Math.sqrt((a*(1-a)+r*r/(4*n))/n))/(1+r*r/n)},T=function(e,t){return t.wilsonScore-e.wilsonScore},C=function(e,t){return e.filter((function(e){return e.pro_win&&e.pro_pick})).map((function(e){return Object(B.a)(Object(B.a)({},e),{},{wilsonScore:I(e.pro_win,e.pro_pick)})})).sort(T).slice(0,t)};function N(){var e=Object(u.a)(["\n  body:not(&) {\n    margin: 0;\n  }\n\n  padding: 30px;\n"]);return N=function(){return e},e}var U=h.a.div(N()),H=1,A=2,F=3,J=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e,r){var a;return Object(s.a)(this,n),(a=t.call(this,e,r)).handleUpdate=function(){a.setState({isLoading:!0}),W().then((function(e){a.setState({isLoading:!1,heroes:e})}))},a.handleChangeSort=function(e){a.setState({sortType:e.target.value})},a.state={isLoading:!0,heroes:[],sortType:0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.handleUpdate(),this.timer=setInterval(this.handleUpdate,3e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"renderHeroList",value:function(){var e=this.state,t=e.isLoading,n=e.heroes,a=e.sortType,i=C(n,50).sort((function(e,t){return a===F?t.pro_ban-e.pro_ban:a===A?t.pro_win/t.pro_pick*100-e.pro_win/e.pro_pick*100:a===H?t.pro_pick-e.pro_pick:e.wilsonScore-t.wilsonScore}));return t?Object(r.jsx)(p.a,{}):i.map((function(e){return Object(r.jsx)(m.a,{item:!0,xs:2,children:Object(r.jsx)(P,{hero:e})},e.id)}))}},{key:"render",value:function(){return Object(r.jsx)(U,{children:Object(r.jsxs)(m.a,{container:!0,spacing:24,justify:"center",children:[Object(r.jsxs)(m.a,{item:!0,xs:12,children:[Object(r.jsx)(b.a,{type:"display4",gutterBottom:!0,children:"Top PRO Heroes"}),Object(r.jsx)(b.a,{type:"display1",gutterBottom:!0,children:"auto update every 5 minutes"}),Object(r.jsx)(f.a,{id:"label-sort",children:"Sort by"}),Object(r.jsxs)(x.a,{labelId:"label-sort",value:this.state.sortType,onChange:this.handleChangeSort,children:[Object(r.jsx)(O.a,{value:0,children:"Wilson score"}),Object(r.jsx)(O.a,{value:1,children:"Number of Pro Picks"}),Object(r.jsx)(O.a,{value:2,children:"Pro Win rate"}),Object(r.jsx)(O.a,{value:3,children:"Pro Bans"})]})]}),this.renderHeroList()]})})}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(72),c.a.render(Object(r.jsx)(J,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[73,1,2]]]);
//# sourceMappingURL=main.022f0054.chunk.js.map